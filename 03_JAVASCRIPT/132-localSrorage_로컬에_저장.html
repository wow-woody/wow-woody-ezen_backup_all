<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>

        // 1. storage 데이터 저장하기
        let name = "김철수"
        localStorage.setItem("uName", name);

        // 1-2. 객체를 생성하여 저장하기
        const user = {
            id:1,
            name:"이영희",
            job:"프로그래머"
        }
        localStorage.setItem("user", user); // [object Object]로 저장됨

        // 오브젝트를 저장할 수 있는 json형식으로 변환해서 저장해야한다.
        localStorage.setItem("user", JSON.stringify(user)); // json형식으로 변환하여 저장하는 명령어
        //JSON.stringify() : 자바스크립트 오브젝트를 JSON파일(문자열)로 변환해주는 메서드



        // 2. localStorage에 저장된 데이터 불러오기
        // let user2 = localStorage.getItem("uName");
        // console.log(json.parse(user2))
        let user2 = JSON.parse(localStorage.getItem("user")); // 위의 수식과 동일함(한 줄로 작성 가능 )

        // JSON stringify로 저장한 데이터를 디시 객체로 복원시켜서 사용하기
        // JSON.parse() : JSON파일(문자열)을 자바스크립트 오브젝트로 변환해주는 메서드
        console.log(user2);
        console.log(user2.name);
        // 1-3 배열에 데이터 저장하기
        let num = [1,2,3];
        localStorage.setItem(num, JSON.stringify(num)); // json형식으로 변환하여 저장하는 명령어

        let todos = [
            {id:1, text:"자바스크립트 복습", done:false},
            {id:2, text:"자리 바꾸기", done:false},
        ];

        localStorage.setItem("todos", JSON.stringify(todos)); // json형식으로 변환하여 저장하는 명령어

        let todosLoad = JSON.parse(localStorage.getItem("todos")); //parse은 json형식을 자바스크립트 오브젝트로 변환
        todosLoad.push({id:3, text:"공부 계획짜기", done:false}) // todos 배열에 새로운 데이터 추가
        localStorage.setItem("todos", JSON.stringify(todosLoad)); // 다시 저장

        sessionStorage.setItem("sName", "홍길동"); // 세션 스토리지에 데이터 저장하기


    </script>



</head>
<body>
    
</body>
</html>